{
  "name": "astro-images",
  "version": "1.3.1",

  "widthPresets": {
    "FULL": [640, 750, 828, 1080, 1200, 1920, 2048, 2560],
    "TWO_THIRDS": [384, 640, 768, 1024, 1280, 1706, 2048],
    "LARGE": [384, 640, 768, 1024, 1280, 1536, 1920],
    "HALF": [320, 640, 960, 1280, 1600],
    "SMALL": [256, 512, 640, 1024, 1280],
    "THIRD": [256, 512, 640, 853, 1280],
    "QUARTER": [192, 384, 512, 640, 960],
    "FIFTH": [160, 320, 512, 640, 768],
    "SIXTH": [128, 256, 427, 512, 640],
    "FIXED": {
      "type": "density",
      "densities": ["1x", "2x"],
      "quality": { "1x": 80, "2x": 60 },
      "element": "<img>",
      "note": "Use getImage() with srcset x-descriptors. Do not use <Picture>.",
      "3x": "Allowed only for icons â‰¥64px where fidelity matters. Default to 1x+2x."
    }
  },

  "sizesPresets": {
    "FULL": "100vw",
    "TWO_THIRDS": "(min-width: 1024px) 66vw, 100vw",
    "LARGE": "(min-width: 1024px) 60vw, 100vw",
    "HALF": "(min-width: 1024px) 50vw, 100vw",
    "SMALL": "(min-width: 1024px) 40vw, 100vw",
    "THIRD": "(min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw",
    "QUARTER": "(min-width: 1024px) 25vw, (min-width: 640px) 50vw, 100vw",
    "FIFTH": "(min-width: 1024px) 20vw, (min-width: 640px) 33vw, 50vw",
    "SIXTH": "(min-width: 1024px) 16vw, (min-width: 640px) 33vw, 50vw"
  },

  "sourceMinWidths": {
    "FULL": 2560,
    "TWO_THIRDS": 2048,
    "LARGE": 1920,
    "HALF": 1600,
    "SMALL": 1280,
    "THIRD": 1280,
    "QUARTER": 960,
    "FIFTH": 768,
    "SIXTH": 640
  },

  "defaults": {
    "quality": 60,
    "formats": ["avif", "webp"],
    "fallbackPattern": "HALF"
  },

  "schemaImages": {
    "ratios": ["1:1", "4:3", "16:9"],
    "minWidth": 1200,
    "sizes": {
      "1:1": "1200x1200",
      "4:3": "1200x900",
      "16:9": "1200x675"
    }
  },

  "rules": {
    "require-widths": { "severity": "error" },
    "require-sizes": { "severity": "error" },
    "require-quality": { "severity": "error" },
    "require-formats": { "severity": "error" },
    "require-dimensions": { "severity": "error" },
    "require-alt": { "severity": "error" },
    "no-public-images": { "severity": "error" },
    "no-svg-through-picture": { "severity": "error" },
    "no-animated-images": { "severity": "error" },
    "no-lcp-backgrounds": { "severity": "error" },
    "no-dynamic-widths": { "severity": "error" },
    "no-upscaling": { "severity": "error" },
    "single-fetchpriority": { "severity": "error", "max": 1 },
    "no-fetchpriority-in-loops": { "severity": "error" },
    "sizes-matches-layout": { "severity": "error" },
    "aspect-ratio-preserved": { "severity": "error" },
    "alt-intent": { "severity": "warning" },
    "default-pattern": { "severity": "info", "fallback": "HALF" },
    "undersized-source-fallback": {
      "severity": "warning",
      "behavior": "cap-widths",
      "message": "Source smaller than pattern requires. Widths capped at source size. Flag for replacement."
    },
    "undersized-lcp": {
      "pattern": "FULL",
      "severity": "error",
      "message": "LCP/FULL image source is smaller than required. Must provide larger asset."
    }
  },

  "validation": [
    "find public -type f \\( -name '*.jpg' -o -name '*.png' -o -name '*.webp' \\) 2>/dev/null",
    "grep -r '<Picture' src --include='*.astro' | grep -v 'widths='",
    "grep -r '<Picture' src --include='*.astro' | grep -v 'quality='",
    "grep -r 'fetchpriority' src --include='*.astro' | grep -E '\\.(map|forEach)\\('"
  ]
}
